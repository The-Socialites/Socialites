<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Change Password</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div th:replace="fragments/navbar :: navbar"></div>
<div class="container mx-auto p-8">
    <h1 class="text-4xl font-bold mb-8 text-center">Change Password</h1>

    <!-- Flash Messages -->
    <div th:if="${message}" th:text="${message}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" id="flashMessage"></div>
    <div th:if="${error}" th:text="${error}" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" id="flashMessage"></div>

    <form th:action="@{/account/password}" method="post" class="bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto">
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">New Password:</label>
            <input type="password" name="newPassword" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Confirm New Password:</label>
            <input type="password" name="confirmPassword" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required />
        </div>
        <div class="flex items-center justify-between">
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                Change Password
            </button>
        </div>
    </form>
</div>

<script>
    // Hide the flash message after 5 seconds
    document.addEventListener("DOMContentLoaded", function() {
        var flashMessage = document.getElementById("flashMessage");
        if (flashMessage) {
            setTimeout(function() {
                flashMessage.style.display = "none";
            }, 5000); // 5000 milliseconds = 5 seconds
        }
    });
</script>
</body>
</html>
